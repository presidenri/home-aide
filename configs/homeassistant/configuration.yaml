# Basic Home Assistant configuration for Frigate integration
# This file will be automatically extended by Home Assistant

# Basic configuration
default_config:

# Enable the frontend
frontend:
  themes: !include_dir_merge_named themes

# Enable configuration UI
config:

# MQTT configuration for Frigate integration
mqtt:
  broker: mqtt
  port: 1883
  # username: frigate
  # password: your-mqtt-password
  discovery: true
  discovery_prefix: homeassistant
  birth_message:
    topic: 'hass/status'
    payload: 'online'
  will_message:
    topic: 'hass/status' 
    payload: 'offline'

# Frigate integration
frigate:
  host: frigate
  port: 8971

# Enable person detection automations
automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml

# Recorder configuration - customize retention as needed
recorder:
  purge_keep_days: 7
  db_url: sqlite:////data/home-assistant_v2.db
  exclude:
    entity_globs:
      - sensor.frigate_*_fps
      - sensor.frigate_*_skipped_fps
    domains:
      - automation
      - updater
    entities:
      - sun.sun
      - weather.home

# Logger configuration
logger:
  default: info
  logs:
    homeassistant.components.mqtt: debug
    homeassistant.components.frigate: debug